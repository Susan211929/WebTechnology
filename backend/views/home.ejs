<!DOCTYPE html>
<html lang="en">

<head>
  <title>Squid v0.1</title>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="css/bootstrap.min.css" />
  <link rel="stylesheet" href="css/bootstrap-responsive.min.css" />
  <link rel="stylesheet" href="css/fullcalendar.css" />
  <link rel="stylesheet" href="css/matrix-style.css" />
  <link rel="stylesheet" href="css/matrix-media.css" />
  <link href="font-awesome/css/font-awesome.css" rel="stylesheet" />
  <link rel="stylesheet" href="css/jquery.gritter.css" />
  <link href="http://fonts.googleapis.com/css?family=Open+Sans:400,700,800" rel="stylesheet" type="text/css">

  <link rel="stylesheet" href="css/custom/sidebar.css" />
  <link rel="stylesheet" href="css/custom/trending.css" />
  <link rel="stylesheet" href="css/custom/homepage.css" />
  <link rel="stylesheet" href="css/custom/common.css" />
  <link rel="stylesheet" href="css/widget.css" type="text/css" />
  <link rel="shortcut icon" type="image/x-icon" href="favicon.ico">
</head>
<body ng-app="squid">
  <!--Header-part-->
<div id="header">
  <img src="img/squid-logo2.png">
</div>
<!--close-Header-part-->

<div id="pageController" ng-controller="pageCTL as page">
  <!--top-Header-menu-->
  <div id="user-nav" class="navbar navbar-inverse">
    <ul class="nav">
      <li class="dropdown" id="profile-messages">
        <a title="" href="#" data-toggle="dropdown" data-target="#profile-messages" class="dropdown-toggle">
          <i class="icon icon-user"></i>  
          <!-- Check for any logged in user -->
          <% if (user && user.name) { %>
            <span class="text navbar-text-ed">Welcome, <%=user.name%></span>
          <% } else if (user) { %>
            <span class="text navbar-text-ed">Welcome, <%=user.email%> </span>
          <%} else {%>
            <span class="text navbar-text-ed">Welcome </span>
          <%} %>
          <b class="caret"></b>
        </a>
        <ul class="dropdown-menu">
          <% if (user) { %>
            <li><a href="#" id="btn" ng-click="page.currentSubPage='My Profile'"><i  class="icon-user"></i> My Profile</a></li> 
            <li class="divider"></li>
            <li><a href="logout"><i class="icon-key"></i> Log Out</a></li>
          <%} else {%>
            <li><a href="login"><i class="icon-key"></i> Log in</a></li>
          <%} %>
          
        </ul>
      </li>
      <!-- <li class="dropdown" id="menu-messages"><a href="#" data-toggle="dropdown" data-target="#menu-messages" class="dropdown-toggle"><i class="icon icon-envelope"></i> <span class="text  navbar-text-ed">Messages</span> <span class="label label-important">5</span> <b class="caret"></b></a>
        <ul class="dropdown-menu">
          <li><a class="sAdd" title="" href="#"><i class="icon-plus"></i> new message</a></li>
          <li class="divider"></li>
          <li><a class="sInbox" title="" href="#"><i class="icon-envelope"></i> inbox</a></li>
          <li class="divider"></li>
          <li><a class="sOutbox" title="" href="#"><i class="icon-arrow-up"></i> outbox</a></li>
          <li class="divider"></li>
          <li><a class="sTrash" title="" href="#"><i class="icon-trash"></i> trash</a></li>
        </ul>
      </li> -->
      <!-- <li class=""><a title="" href="#"><i class="icon icon-cog"></i> <span class="text navbar-text-ed">Settings</span></a></li> -->
      <!-- <li class=""><a title="" href="logout"><i class="icon icon-share-alt"></i> <span class="text  navbar-text-ed">Logout</span></a></li> -->
      <% if (user) { %>
        <% if (user.type == 'admin') { %>
          <li class="">
            <a title="" href="#">
              <i class="icon icon-cog"></i>
              <span class="text navbar-text-ed">Admin Panel</span>
            </a>
          </li>
        <%} else if (user.type == 'adder') {%>
          <li class="">
              <a title="" href="#">
                <i class="icon icon-cog"></i>
                <span class="text navbar-text-ed"> Content Adder Panel</span>
              </a>
            </li>
         
        <%} else if (user.type == 'reader') {%>
          <li class="">
              <a title="" href="#">
                <i class="icon icon-cog"></i>
                <span class="text navbar-text-ed">Reader Panel</span>
              </a>
            </li>
        <%} %>
      <%} %>
        
      
    </ul>
  </div>
  <!--close-top-Header-menu-->
  <!--start-top-right-div-->
  <div id="right-nav-div">
      <% if (user) { %>
        <a title="" href="logout"> <span class="text navbar-text-ed">Log Out </span></a>
      <%} else {%>
        <a title="" href="login"> <span class="text navbar-text-ed">Log In </span></a>
        <a title="" href="signup"> <span class="text navbar-text-ed">Register</span></a>
        <%} %>

    <div id="search">

      <input type="text" placeholder="Search here..." />
      <button type="submit" class="tip-bottom" title="Search"><i class="icon-search icon-white"></i></button>
    </div>
  </div>
  <!--close-top-right-div-->
  <!--sidebar-menu-->

  <div id="sidebar">
    <a href="#" class="visible-phone"><i class="icon icon-home"></i> Dashboard</a>
    <ul>
      <li ng-class="{'active': page.currentSubPage == '{{thisPage[0]}}'}" ng-repeat="thisPage in page.subPages">
        <a ng-click="page.currentSubPage = thisPage[0]">
          <i class="icon icon-home"></i> 
          <span>{{thisPage[0]}}</span>
        </a>
      </li>
    </ul>
  </div>
  <!--sidebar-menu-->
  <!--main-container-part-->
  <div id="content" ng-controller="workspaceCTL as workspace">
    <!--breadcrumbs-->
    <div id="content-header"> 
      <div id="breadcrumb">
        <div ng-show="page.currentSubPage == 'Home'">             
            <a class="tip-bottom"><i class="icon-home"></i>Home</a>
        </div>
        <div ng-show="page.currentSubPage == 'My Profile'">          
            <a class="tip-bottom"><i class="icon-home"></i>Home</a>
             <a class="current"><i class="icon-list-alt"></i>My Profile</a>
        </div> 
      </div>
    </div>
    <!--End-breadcrumbs-->

    <div>
      <div ng-show="page.currentSubPage == 'My Profile'">


          <div class="container-fluid">
              <div class="row-fluid">
              <div class="span12">
                <div class="widget-box">
                  <div class="widget-title">
                    <span class="icon">
                      <i class="icon-list-alt"></i>
                    </span>
                    <h5>Preferences</h5>
                  </div>
                  <div class="widget-content">
                  </div>
                </div>
              </div>
            <div class="row-fluid">
              
              <div class="span12">
                  <div class="widget-box">
                    <div class="widget-title">
                      <span class="icon">
                        <i class="icon-list-alt"></i>
                      </span>
                      <h5>Current User Info</h5>
                    </div>
                    <div class="widget-content">
                      <!-- Check for any logged in user -->
                          <% if (user) { %>
            
                        <!-- LOCAL INFORMATION -->
                          <div class="well">
                          <h3><span class="fa fa-user"></span> Local</h3>
            
                            <% if (user.local) { %>
                              <% if (user.local.email) { %>
                              <p>
                                <strong>id</strong>: <%= user._id %><br>
                                <strong>email</strong>: <%= user.local.email %><br>
                                <strong>password</strong>: <%= user.local.password %>
                              </p>
            
                              <a href="/unlink/local" class="btn btn-default">Unlink</a>
                              <% } else { %>
                              <a href="/connect/local" class="btn btn-default">Connect Local</a>
                              <% } %>
                            <% } else { %>
                              No local Login
                            <% } %>
            
            
                          </div>
            
                        <!-- FACEBOOK INFORMATION -->
                          <div class="well">
                            <h3 class="text-primary"><span class="fa fa-facebook"></span> Facebook</h3>
            
                            <% if (user.facebook) { %>
                              <!-- check if the user has this token (is the user authenticated with this social account) -->
                              <% if (user.facebook.token) { %>
                              <p>
                                <strong>id</strong>: <%= user.facebook.id %><br>
                                <strong>token</strong>: <%= user.facebook.token %><br>
                                <strong>email</strong>: <%= user.facebook.email %><br>
                                <strong>name</strong>: <%= user.facebook.name %><br>
                              </p>
            
                              <a href="/unlink/facebook" class="btn btn-primary">Unlink</a>
                              <% } else { %>
                              <a href="/connect/facebook" class="btn btn-primary">Connect Facebook</a>
                              <% } %>
                            <% } else { %>
                              No Facebook Login
                            <% } %>
            
                          </div>
                        
                     
            
                        <!-- GOOGLE INFORMATION -->
                          <div class="well">
                            <h3 class="text-danger"><span class="fa fa-google-plus"></span> Google+</h3>
            
                            <% if (user.google) { %>
                              <!-- check if the user has this token (is the user authenticated with this social account) -->
                              <% if (user.google.token) { %>
                              <p>
                                <strong>id</strong>: <%= user.google.id %><br>
                                <strong>token</strong>: <%= user.google.token %><br>
                                <strong>email</strong>: <%= user.google.email %><br>
                                <strong>name</strong>: <%= user.google.name %>
                              </p>
            
                              <a href="/unlink/google" class="btn btn-danger">Unlink</a>
                              <% } else { %>
                              <a href="/connect/google" class="btn btn-danger">Connect Google</a>
                              <% } %>
                            <% } else { %>
                              No Google Login
                            <% } %>
                          </div>
                        <% } else {%>
                          No Logged in user
                        <% } %>
            
                    </div>
                  </div>
                </div>
            </div>
          </div>
          </div>
          

        
      </div>
    </div>


    <div>
      <div ng-show="page.currentSubPage == 'Home'">
        <div class="row-fluid">
          <div class="span12" ng-controller="articleTabsCTL as articles">
            <div class="widget-box" id="home-tabBox">
              <div class="widget-title">
                <ul class="nav nav-tabs">
                  <li ng-class="{'active': articles.currentTab == '{{tabTitle}}'}" ng-repeat="tabTitle in articles.tabs">
                    <a href="" ng-click="articles.currentTab = tabTitle">{{tabTitle}}</a>
                  </li>
                </ul>
              </div>
              <div class="widget-content tab-content">
                <div ng-class="{ 'active':(articles.currentTab == '{{tabTitle}}')}" class="tab-pane" ng-repeat="(tabTitle, tabContent) in articles.tabData">

                  <div class="span4" ng-repeat="article in tabContent">
                    <a href="{{article.link}}" class="squid-article-box" target="_blank">
                      <div class="widget-box">
                        <div class="widget-content title">{{article.title}}</div>
                        <div class="widget-content link-image">
                          <img src="{{article.imgUrl}}">
                        </div>
                        <div class="widget-content subtitle" ng-bind-html="article.summary | trusted"></div>
                    
                      </div>
                    </a>
                  </div>
                </div>

              </div>
            </div>
          </div>
        </div>
        <div class="row-fluid">
          <div class="span6">
            <div class="widget-box" ng-controller="postCTL as post">
              <div class="widget-title bg_ly" data-toggle="collapse" href="#collapseG2"><span class="icon"><i class="icon-chevron-down"></i></span>
                <h5>Latest Posts</h5>
              </div>
              <div class="widget-content nopadding collapse in" id="collapseG2">
                <ul class="recent-posts">
                  <li ng-repeat="p in post.posts">
                    <b>By</b>: {{p.name}} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <b>At</b> :{{p.date}}<br/> {{p.content}}
                  </li>
                </ul>
              </div>
            </div>
          </div>

          <div class="span6">
            <div class="widget-box" ng-controller="newsCTL as news">
              <div class="widget-title bg_lo" data-toggle="collapse" href="#collapseG3"> <span class="icon"> <i class="icon-chevron-down"></i> </span>
                <h5>News updates</h5>
              </div>
              <div class="widget-content nopadding updates collapse in" id="collapseG3">
                <div class="new-update clearfix" ng-repeat="n in news.data">
                  <i class="icon-ok-sign"></i>
                  <div class="update-done">
                    <a title="" href="#"><strong>{{n.subject}}</strong></a>
                    <span>{{n.content}}</span>
                  </div>
                  <div class="update-date">
                    <span class="update-day">{{n.date}}</span>{{n.month}}
                  </div>
                </div>
              </div>
            </div>

          </div>
        </div>

      </div>

      <div ng-show="page.currentSubPage == 'Trending'">
        <div class="row-fluid">
          <div class="span12" ng-controller="trendingCTL as trending">
            <div class="widget-box" id="trending-mainBox">
              <!-- <div class="widget-title">Trending Articles</div> -->
              <div class="widget-content  tab-content">
                <div class="row-fluid" id="trendingGrid" >
                  <div class="span4" ng-repeat="article in articles">
                    <a href="{{article.link}}" class="squid-article-box"  target="_blank">
                      <div class="widget-box">
                        <div class="widget-content title">{{article.title}}</div>
                        <div class="widget-content link-image" >
                            <img src="{{article.imgUrl}}">
                          </div>
                        <div class="widget-content subtitle" ng-bind-html="article.summary | trusted"></div>
                          
                      </div>
                    </a>
                  </div>
                </div>

              </div>
            </div>
          </div>
        </div>
      </div>

      <div ng-show="page.currentSubPage == 'You May like this'">
        dffdhffhgf
      </div>

      <div ng-show="page.currentSubPage == 'Updates'">
        hjkkhk
      </div>
    </div>


  </div>
  <!--end-main-container-part-->
</div>
<!--Footer-part-->
<div class="row-fluid">
  <div id="footer" class="span12"> 2017 &copy; Squid v0.1. Brought to you by Edwin, Anish and Susan</div>
</div>
<!--end-Footer-part-->


<script src="js/common/angular.min.js"></script>
<script src="js/common/angular-masonry.min.js"></script>

<script src="js/common/excanvas.min.js"></script>
<script src="js/common/jquery.min.js"></script>

<script src="js/customAngular.js"></script>
<!-- <script src="js/salvattore.js"></script> -->

<!-- <script src="js/angular-masonry.js.js"></script> -->

<!-- <script src="https://unpkg.com/masonry-layout@4/dist/masonry.pkgd.min.js"></script> -->
<script src="js/common/jquery.ui.custom.js"></script>
<script src="js/common/bootstrap.min.js"></script>
<script src="js/common/jquery.flot.min.js"></script>
<script src="js/common/jquery.flot.resize.min.js"></script>
<script src="js/common/jquery.peity.min.js"></script>
<script src="js/common/fullcalendar.min.js"></script>
<script src="js/common/matrix.js"></script>
<script src="js/common/matrix.dashboard.js"></script>
<script src="js/common/jquery.gritter.min.js"></script>
<script src="js/common/matrix.interface.js"></script>
<script src="js/common/matrix.chat.js"></script>
<script src="js/common/jquery.validate.js"></script>
<script src="js/common/matrix.form_validation.js"></script>
<script src="js/common/jquery.wizard.js"></script>
<script src="js/common/jquery.uniform.js"></script>
<script src="js/common/select2.min.js"></script>
<!-- <script src="js/common/matrix.popover.js"></script> -->
<script src="js/common/jquery.dataTables.min.js"></script>
<script src="js/common/matrix.tables.js"></script>

<script type="text/javascript">
    // This function is called from the pop-up menus to transfer to
    // a different page. Ignore if the value returned is a null string:
    function goPage(newURL) {

      // if url is empty, skip the menu dividers and reset the menu selection to default
      if (newURL != "") {

        // if url is "-", it is this page -- reset the menu:
        if (newURL == "-") {
          resetMenu();
        }
        // else, send page to designated URL            
        else {
          document.location.href = newURL;
        }
      }
    }

    // resets the menu selection upon entry to this page:
    function resetMenu() {
      document.gomenu.selector.selectedIndex = 2;
    }


    // The way to do notifications
    // $(function () {
    //     $.gritter.add({
    //       title: 'Important Unread messages',
    //       text: 'You have 1dgdfdfgf2 unread messages.',
    //       image: 'img/demo/envelope.png',
    //       sticky: false
    //     })
    //   });
  </script>
</body>

</html>
